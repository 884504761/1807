"use strict";require(["config"],function(){require(["jquery","header","footer","template","beside"],function(c,o,t,a,e){new Promise(function(o,t){c("header").load("/html/component/header.html",function(){o()}),c("footer").load("/html/component/footer.html",function(){})}).then(function(){o.nav(),o.barrage(),o.fix(),o.isLogin(),o.head_search(),e.rt();try{o.head_cart()}catch(o){console.log("not found cookie")}}).then(function(){var o=location.search.slice(1);if(console.log(o),1==o){c(".artical-head h4").html("所有新品推荐"),c("#_name1").html("新品推荐"),c("#_name2").html("所有新品推荐");var t="",e=null;c.ajax({method:"get",url:"http://rap2api.taobao.org/app/mock/115083/product",success:function(o){console.log(o),t+=a("pro-template",{products:o.products}),c("#proList").html(t)}}),c(window).scroll(function(){c(window).scrollTop()>c("body").height()-1200&&(clearTimeout(e),console.log("到底啦"),e=setTimeout(function(){c.ajax({method:"get",url:"http://rap2api.taobao.org/app/mock/115083/product",success:function(o){t+=a("pro-template",{products:o.products}),c("#proList").html(t)}})},1e3))})}else if(2==o){c(".artical-head h4").html("所有热卖商品"),c("#_name1").html("热卖商品"),c("#_name2").html("所有热卖商品");t="",e=null;c.ajax({method:"get",url:"http://rap2api.taobao.org/app/mock/115083/product_hot",success:function(o){console.log(o),t+=a("pro-template",{products:o.products}),c("#proList").html(t)}}),c(window).scroll(function(){c(window).scrollTop()>c("body").height()-1200&&(clearTimeout(e),console.log("到底啦"),e=setTimeout(function(){c.ajax({method:"get",url:"http://rap2api.taobao.org/app/mock/115083/product_hot",success:function(o){t+=a("pro-template",{products:o.products}),c("#proList").html(t)}})},1e3))})}else{c(".artical-head h4").html("搜索结果"),c("#_name1").html("搜索"),c("#_name2").html("搜索结果");t="",e=null;c.ajax({method:"get",url:"http://rap2api.taobao.org/app/mock/115083/product_search",success:function(o){console.log(o),t+=a("pro-template",{products:o.products}),c("#proList").html(t)}}),c(window).scroll(function(){c(window).scrollTop()>c("body").height()-1200&&(clearTimeout(e),console.log("到底啦"),e=setTimeout(function(){c.ajax({method:"get",url:"http://rap2api.taobao.org/app/mock/115083/product_search",success:function(o){t+=a("pro-template",{products:o.products}),c("#proList").html(t)}})},1e3))})}}).then(function(){var t=null;c(".ul-list").on("click","li",function(){var o=c(".list-bottom .spfl");this==t?c(o[c(this).index()]).removeClass("ac"):c(o[c(t=this).index()]).addClass("ac").siblings().removeClass("ac")})})})});