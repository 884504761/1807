define(["tools","jquery","template","reckon","jquery-cookie"],function(i,s,n,r){function t(){}return t.prototype.nav=function(){for(var t=i.$(".subMenu"),e=0;e<t.length;e++)t[e].onmouseenter=function(){i.$(".content",this)[0].style.display="block"},t[e].onmouseleave=function(){i.$(".content",this)[0].style.display="none"}},t.prototype.barrage=function(){var t=i.$("#barrage"),e=i.$("#running"),o=t.offsetWidth,n=-e.offsetWidth;setInterval(function(){e.offsetLeft<=n&&(e.style.left=o+"px"),e.style.left=e.offsetLeft-1+"px"},30)},t.prototype.fix=function(){var e=i.$(".head")[0],o=i.$("nav")[0];window.onscroll=function(t){(document.documentElement.scrollTop||document.body.scrollTop)>e.offsetHeight?(o.style.position="fixed",o.style.top=0):o.style.position="relative"}},t.prototype.search=function(){var t=i.$(".search")[0];i.$("input",t)[0].onmouseenter=function(){}},t.prototype.isLogin=function(){var t=s.cookie("username");t&&(s("#unlogin").css("display","none"),s("#islogin").css("display","block"),s("#islogin p").html(t),s("#islogin .leave").click(function(){s.cookie("username","",{expires:-1,path:"/"}),s("#unlogin").css("display","block"),s("#islogin").css("display","none")}))},t.prototype.head_cart=function(){s("#cart").slideUp("slow");var t=s.cookie("cart"),e=JSON.parse(t),o=n("cart-template",{products:{products:e}.products});s("#cart_list").html(o),s("#gouwuche").mouseenter(function(){s("#cart").slideDown("slow")}),s("#cart").mouseleave(function(){s(this).slideUp("slow")}),r.head_total(),s("#cart_list").on("click","#head_del",function(){var t=s.cookie("cart"),e=JSON.parse(t),o=s(this).parent().parent().parent().index();e.splice(o,1);var n=JSON.stringify(e);s.cookie("cart",n,{expires:7}),s(this).parent().parent().parent().remove(),r.head_total()})},t.prototype.head_search=function(){s("#head_search").click(function(){var t=s("#search").val();s(location).attr("href","/html/xinpin.html?"+t)})},new t});