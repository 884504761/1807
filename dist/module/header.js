define(["tools","jquery","template","reckon","jquery-cookie"],function(i,s,n,c){function e(){}return e.prototype.nav=function(){for(var e=i.$(".subMenu"),t=0;t<e.length;t++)e[t].onmouseenter=function(){i.$(".content",this)[0].style.display="block"},e[t].onmouseleave=function(){i.$(".content",this)[0].style.display="none"}},e.prototype.barrage=function(){var e=i.$("#barrage"),t=i.$("#running"),o=e.offsetWidth,n=-t.offsetWidth;setInterval(function(){t.offsetLeft<=n&&(t.style.left=o+"px"),t.style.left=t.offsetLeft-1+"px"},30)},e.prototype.fix=function(){var t=i.$(".head")[0],o=i.$("nav")[0];window.onscroll=function(e){(document.documentElement.scrollTop||document.body.scrollTop)>t.offsetHeight?(o.style.position="fixed",o.style.top=0):o.style.position="relative"}},e.prototype.search=function(){var e=i.$(".search")[0];i.$("input",e)[0].onmouseenter=function(){}},e.prototype.isLogin=function(){var e=s.cookie("username");e&&(s("#unlogin").css("display","none"),s("#islogin").css("display","block"),s("#islogin p").html(e),s("#islogin .leave").click(function(){s.cookie("username","",{expires:-1,path:"/"}),s("#unlogin").css("display","block"),s("#islogin").css("display","none")}))},e.prototype.head_cart=function(){s("#cart").slideUp("slow");var e=s.cookie("cart"),t=JSON.parse(e),o=n("cart-template",{products:{products:t}.products});s("#cart_list").html(o),s("#gouwuche").mouseenter(function(){s("#cart").slideDown("slow"),console.log("111111")}),s("#cart").mouseleave(function(){s(this).slideUp("slow")}),c.head_total(),s("#cart_list").on("click","#head_del",function(){var e=s.cookie("cart"),t=JSON.parse(e),o=s(this).parent().parent().parent().index();t.splice(o,1);var n=JSON.stringify(t);s.cookie("cart",n,{expires:7}),s(this).parent().parent().parent().remove(),c.head_total()})},e.prototype.head_search=function(){s("#head_search").click(function(){var e=s("#search").val();s(location).attr("href","/html/xinpin.html?"+e)})},new e});